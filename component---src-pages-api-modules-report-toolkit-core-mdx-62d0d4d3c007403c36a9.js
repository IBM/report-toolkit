(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{407:function(e,t,r){"use strict";r.r(t),r.d(t,"_frontmatter",(function(){return o})),r.d(t,"default",(function(){return m}));r(11),r(5),r(6),r(4),r(10),r(1),r(0);var a=r(111),n=r(421);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var o={},l=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(a.b)("div",t)}},p=l("Breadcrumb"),c=l("BreadcrumbItem"),i={_frontmatter:o},s=n.a;function m(e){var t=e.components,r=function(e,t){if(null==e)return{};var r,a,n={},b=Object.keys(e);for(a=0;a<b.length;a++)r=b[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["components"]);return Object(a.b)(s,b({},i,r,{components:t,mdxType:"MDXLayout"}),Object(a.b)(p,{noTrailingSlash:!0,mdxType:"Breadcrumb"},Object(a.b)(c,{mdxType:"BreadcrumbItem"},Object(a.b)("a",{href:"../home"},"report-toolkit API")),Object(a.b)(c,{mdxType:"BreadcrumbItem"},Object(a.b)("a",{href:"report_toolkit_core"},"@report-toolkit/core"))),Object(a.b)("h2",{id:"functions"},"Functions"),Object(a.b)("h3",{id:"diff"},"diff"),Object(a.b)("p",null,"▸ ",Object(a.b)("strong",{parentName:"p"},"diff"),"(",Object(a.b)("inlineCode",{parentName:"p"},"report1"),": any, ",Object(a.b)("inlineCode",{parentName:"p"},"report2"),": any, ",Object(a.b)("inlineCode",{parentName:"p"},"opts?"),": Partial‹",Object(a.b)("a",b({parentName:"p"},{href:"report_toolkit_core.observable#diffoptions"}),"DiffOptions"),"›): ",Object(a.b)("em",{parentName:"p"},"Promise‹",Object(a.b)("a",b({parentName:"em"},{href:"report_toolkit_core.observable#diffresult"}),"DiffResult"),"[]›")),Object(a.b)("p",null,"Returns the difference between two reports."),Object(a.b)("p",null,"Example:"),Object(a.b)("pre",null,Object(a.b)("code",b({parentName:"pre"},{className:"language-js"}),"const {diff} = require('@report-toolkit/core');\n\nconst report1 = process.report.getReport();\nconst report2 = process.report.getReport();\nconst results = await diff(report1, report2, {\n  filterProperties: ['header', 'javascriptStack', 'nativeStack'],\n  showSecretsUnsafe: false\n});\nresults.forEach(({op, path, newValue, oldValue}) => {\n  console.log(`[${op}] <${path}> ${oldValue} => ${newValue}`);\n});\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Parameters:")),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",b({parentName:"tr"},{align:null}),"Name"),Object(a.b)("th",b({parentName:"tr"},{align:null}),"Type"),Object(a.b)("th",b({parentName:"tr"},{align:null}),"Description"))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",b({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"report1")),Object(a.b)("td",b({parentName:"tr"},{align:null}),"any"),Object(a.b)("td",b({parentName:"tr"},{align:null}),"First report to diff")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",b({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"report2")),Object(a.b)("td",b({parentName:"tr"},{align:null}),"any"),Object(a.b)("td",b({parentName:"tr"},{align:null}),"Second report to diff")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",b({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"opts?")),Object(a.b)("td",b({parentName:"tr"},{align:null}),"Partial‹",Object(a.b)("a",b({parentName:"td"},{href:"report_toolkit_core.observable#diffoptions"}),"DiffOptions"),"›"),Object(a.b)("td",b({parentName:"tr"},{align:null}),"-")))),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Returns:")," ",Object(a.b)("em",{parentName:"p"},"Promise‹",Object(a.b)("a",b({parentName:"em"},{href:"report_toolkit_core.observable#diffresult"}),"DiffResult"),"[]›")),Object(a.b)("p",null,"Array of results, one per difference"),Object(a.b)("hr",null),Object(a.b)("h3",{id:"inspect"},"inspect"),Object(a.b)("p",null,"▸ ",Object(a.b)("strong",{parentName:"p"},"inspect"),"(",Object(a.b)("inlineCode",{parentName:"p"},"reports"),": any, ",Object(a.b)("inlineCode",{parentName:"p"},"opts?"),": Partial‹",Object(a.b)("a",b({parentName:"p"},{href:"report_toolkit_core.observable#inspectoptions"}),"InspectOptions"),"›): ",Object(a.b)("em",{parentName:"p"},"Promise‹",Object(a.b)("a",b({parentName:"em"},{href:"../classes/report_toolkit_inspector.message.message"}),"Message"),"[]›")),Object(a.b)("p",null,"Inspect one or more reports, running rules against each.  Resolves with an array of zero or more ",Object(a.b)("a",b({parentName:"p"},{href:"/report-toolkit/328674fbd5d39f3447e0b79baa3fc7c9/report_toolkit_inspector.message.message.mdx"}),"Messages"),"."),Object(a.b)("p",null,"Example:"),Object(a.b)("pre",null,Object(a.b)("code",b({parentName:"pre"},{className:"language-js"}),"const {inspect} = require('@report-toolkit/core');\n\nconst report = process.report.getReport();\nconst results = await inspect(report, {\n  severity: 'info',\n  sort: true,\n  sortDirection: 'asc',\n  sortField: 'header.dumpEventTimestamp',\n  showSecretsUnsafe: false,\n  ruleConfig: {\n    'long-timeout': {\n      timeout: '2s'\n    }\n  }\n});\nresults.forEach(({message, filename}) => {\n  console.log(`${filename}: ${message}`);\n});\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Parameters:")),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",b({parentName:"tr"},{align:null}),"Name"),Object(a.b)("th",b({parentName:"tr"},{align:null}),"Type"),Object(a.b)("th",b({parentName:"tr"},{align:null}),"Description"))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",b({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"reports")),Object(a.b)("td",b({parentName:"tr"},{align:null}),"any"),Object(a.b)("td",b({parentName:"tr"},{align:null}),"One or more reports")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",b({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"opts?")),Object(a.b)("td",b({parentName:"tr"},{align:null}),"Partial‹",Object(a.b)("a",b({parentName:"td"},{href:"report_toolkit_core.observable#inspectoptions"}),"InspectOptions"),"›"),Object(a.b)("td",b({parentName:"tr"},{align:null}),"-")))),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Returns:")," ",Object(a.b)("em",{parentName:"p"},"Promise‹",Object(a.b)("a",b({parentName:"em"},{href:"../classes/report_toolkit_inspector.message.message"}),"Message"),"[]›")),Object(a.b)("hr",null),Object(a.b)("h3",{id:"loadconfig"},"loadConfig"),Object(a.b)("p",null,"▸ ",Object(a.b)("strong",{parentName:"p"},"loadConfig"),"(",Object(a.b)("inlineCode",{parentName:"p"},"config"),": any): ",Object(a.b)("em",{parentName:"p"},"Promise‹any›")),Object(a.b)("p",null,"Resolves with a normalized config object from a raw config object."),Object(a.b)("p",null,"Example:"),Object(a.b)("pre",null,Object(a.b)("code",b({parentName:"pre"},{className:"language-js"}),"const {loadConfig} = require('@report-toolkit/core');\n\n// or require('./path/to/.rtkrc.js')\nconst rawConfig = [\n  'report-toolkit:recommended',\n  {\n    rules: {\n      'long-timeout': {\n        timeout: '2s'\n      }\n    }\n  }\n];\n// `normalizedConfig` contains contents of \"recommended\" settings,\n// with our override of custom rule config\nconst normalizedConfig = await loadConfig(rawConfig);\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Parameters:")),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",b({parentName:"tr"},{align:null}),"Name"),Object(a.b)("th",b({parentName:"tr"},{align:null}),"Type"),Object(a.b)("th",b({parentName:"tr"},{align:null}),"Description"))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",b({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"config")),Object(a.b)("td",b({parentName:"tr"},{align:null}),"any"),Object(a.b)("td",b({parentName:"tr"},{align:null}),"Raw config object")))),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Returns:")," ",Object(a.b)("em",{parentName:"p"},"Promise‹any›")),Object(a.b)("p",null,"A normalized config object"),Object(a.b)("hr",null),Object(a.b)("h3",{id:"toreportfromobject"},"toReportFromObject"),Object(a.b)("p",null,"▸ ",Object(a.b)("strong",{parentName:"p"},"toReportFromObject"),"(",Object(a.b)("inlineCode",{parentName:"p"},"value"),": any, ",Object(a.b)("inlineCode",{parentName:"p"},"opts?"),": Partial‹",Object(a.b)("a",b({parentName:"p"},{href:"report_toolkit_core.observable#toreportfromobjectoptions"}),"ToReportFromObjectOptions"),"›): ",Object(a.b)("em",{parentName:"p"},"Promise‹Readonly‹",Object(a.b)("a",b({parentName:"em"},{href:"../classes/report_toolkit_common.report.report"}),"Report"),"››")),Object(a.b)("p",null,"Convert a plain object (usually parsed from a JSON report generated by See ",Object(a.b)("a",b({parentName:"p"},{href:"https://nodejs.org/api/process.html#process_process_report_writereport_filename_err"}),"process.report.writeReport"),") to a ",Object(a.b)("a",b({parentName:"p"},{href:"/report-toolkit/e9b585c4ce3ac49558b924b9fc57da41/report_toolkit_common.report.report.mdx"}),"Report")," instance."),Object(a.b)("p",null,"Example:"),Object(a.b)("pre",null,Object(a.b)("code",b({parentName:"pre"},{className:"language-js"}),"const {toReportFromObject} = require('@report-toolkit/core');\n\nconst json = fs.readFileSync('./report-xxxxx.json');\n// `Report` instance with secrets redacted\nconst report = await toReportFromObject(json, {\n  showSecretsUnsafe: false\n});\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Parameters:")),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",b({parentName:"tr"},{align:null}),"Name"),Object(a.b)("th",b({parentName:"tr"},{align:null}),"Type"),Object(a.b)("th",b({parentName:"tr"},{align:null}),"Description"))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",b({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"value")),Object(a.b)("td",b({parentName:"tr"},{align:null}),"any"),Object(a.b)("td",b({parentName:"tr"},{align:null}),"Raw report")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",b({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"opts?")),Object(a.b)("td",b({parentName:"tr"},{align:null}),"Partial‹",Object(a.b)("a",b({parentName:"td"},{href:"report_toolkit_core.observable#toreportfromobjectoptions"}),"ToReportFromObjectOptions"),"›"),Object(a.b)("td",b({parentName:"tr"},{align:null}),"-")))),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Returns:")," ",Object(a.b)("em",{parentName:"p"},"Promise‹Readonly‹",Object(a.b)("a",b({parentName:"em"},{href:"../classes/report_toolkit_common.report.report"}),"Report"),"››")),Object(a.b)("hr",null),Object(a.b)("h3",{id:"transform"},"transform"),Object(a.b)("p",null,"▸ ",Object(a.b)("strong",{parentName:"p"},"transform"),"(",Object(a.b)("inlineCode",{parentName:"p"},"transformerIds"),": string | string[], ",Object(a.b)("inlineCode",{parentName:"p"},"source"),": any, ",Object(a.b)("inlineCode",{parentName:"p"},"config?"),": Partial‹any›, ",Object(a.b)("inlineCode",{parentName:"p"},"options?"),": Partial‹",Object(a.b)("a",b({parentName:"p"},{href:"report_toolkit_core.observable#transformoptions"}),"TransformOptions"),"›): ",Object(a.b)("em",{parentName:"p"},"Promise‹any[]›")),Object(a.b)("p",null,"Run ",Object(a.b)("inlineCode",{parentName:"p"},"source")," through chain of one or more transformers.  Performs validation before piping.\nIf the final transformer does not output the desired ",Object(a.b)("inlineCode",{parentName:"p"},"endType"),", the ",Object(a.b)("inlineCode",{parentName:"p"},"defaultTransformer")," will be appended to the chain; otherwise it is ignored."),Object(a.b)("p",null,"Example:"),Object(a.b)("pre",null,Object(a.b)("code",b({parentName:"pre"},{className:"language-js"}),"const {transform, toReportFromObject} = require('@report-toolkit/core');\n\n// by default, `report` has its secrets redacted\nconst report = await toReportFromObject(process.report.getReport());\nconst [header, ...data] = await transform(['filter', 'csv'], report, {\n  transformers: {\n    filter: {include: 'header'},\n    csv: {flatten: true}\n  }\n});\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Parameters:")),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",b({parentName:"tr"},{align:null}),"Name"),Object(a.b)("th",b({parentName:"tr"},{align:null}),"Type"),Object(a.b)("th",b({parentName:"tr"},{align:null}),"Description"))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",b({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"transformerIds")),Object(a.b)("td",b({parentName:"tr"},{align:null}),"string ","|"," string[]"),Object(a.b)("td",b({parentName:"tr"},{align:null}),"Unique transformer identifier(s), in order.  Can be one of ",Object(a.b)("inlineCode",{parentName:"td"},"csv"),", ",Object(a.b)("inlineCode",{parentName:"td"},"filter"),", ",Object(a.b)("inlineCode",{parentName:"td"},"json"),", ",Object(a.b)("inlineCode",{parentName:"td"},"newline"),", ",Object(a.b)("inlineCode",{parentName:"td"},"numeric"),", ",Object(a.b)("inlineCode",{parentName:"td"},"redact"),", ",Object(a.b)("inlineCode",{parentName:"td"},"stack-hash"),", ",Object(a.b)("inlineCode",{parentName:"td"},"table"),".")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",b({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"source")),Object(a.b)("td",b({parentName:"tr"},{align:null}),"any"),Object(a.b)("td",b({parentName:"tr"},{align:null}),"Source, typically one or more ",Object(a.b)("a",b({parentName:"td"},{href:"/report-toolkit/e9b585c4ce3ac49558b924b9fc57da41/report_toolkit_common.report.report.mdx"}),"Reports"),".")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",b({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"config?")),Object(a.b)("td",b({parentName:"tr"},{align:null}),"Partial‹any›"),Object(a.b)("td",b({parentName:"tr"},{align:null}),"As returned by ",Object(a.b)("a",b({parentName:"td"},{href:"report_toolkit_core.mdx#loadconfig"}),"loadConfig"),"; can contain transformer-specific settings.")),Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",b({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"options?")),Object(a.b)("td",b({parentName:"tr"},{align:null}),"Partial‹",Object(a.b)("a",b({parentName:"td"},{href:"report_toolkit_core.observable#transformoptions"}),"TransformOptions"),"›"),Object(a.b)("td",b({parentName:"tr"},{align:null}),"Optional constraints & default behavior; overrides settings in ",Object(a.b)("inlineCode",{parentName:"td"},"config"),", if present.")))),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Returns:")," ",Object(a.b)("em",{parentName:"p"},"Promise‹any[]›")),Object(a.b)("hr",null),Object(a.b)("h3",{id:"use"},"use"),Object(a.b)("p",null,"▸ ",Object(a.b)("strong",{parentName:"p"},"use"),"(",Object(a.b)("inlineCode",{parentName:"p"},"pluginId"),": string): ",Object(a.b)("em",{parentName:"p"},"Promise‹",Object(a.b)("a",b({parentName:"em"},{href:"report_toolkit_core.observable#rtkplugin"}),"RTKPlugin"),"›")),Object(a.b)("p",null,"Register & enable a plugin."),Object(a.b)("p",null,"Example:"),Object(a.b)("pre",null,Object(a.b)("code",b({parentName:"pre"},{className:"language-js"}),"const {use} = require('@report-toolkit/core');\n\nawait use('some-plugin-in-node_modules');\nawait use('./relative/path/to/plugin.js');\n")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Parameters:")),Object(a.b)("table",null,Object(a.b)("thead",{parentName:"table"},Object(a.b)("tr",{parentName:"thead"},Object(a.b)("th",b({parentName:"tr"},{align:null}),"Name"),Object(a.b)("th",b({parentName:"tr"},{align:null}),"Type"),Object(a.b)("th",b({parentName:"tr"},{align:null}),"Description"))),Object(a.b)("tbody",{parentName:"table"},Object(a.b)("tr",{parentName:"tbody"},Object(a.b)("td",b({parentName:"tr"},{align:null}),Object(a.b)("inlineCode",{parentName:"td"},"pluginId")),Object(a.b)("td",b({parentName:"tr"},{align:null}),"string"),Object(a.b)("td",b({parentName:"tr"},{align:null}),"ID of plugin to register; a resolvable path to a module")))),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"Returns:")," ",Object(a.b)("em",{parentName:"p"},"Promise‹",Object(a.b)("a",b({parentName:"em"},{href:"report_toolkit_core.observable#rtkplugin"}),"RTKPlugin"),"›")))}m.isMDXComponent=!0},419:function(e){e.exports=JSON.parse('{"data":{"site":{"pathPrefix":"/report-toolkit"}}}')},420:function(e){e.exports=JSON.parse('{"data":{"site":{"siteMetadata":{"repository":{"baseUrl":"https://github.com/IBM/report-toolkit","subDirectory":"packages/docs"}}}}}')},421:function(e,t,r){"use strict";r(31),r(28);var a=r(1),n=r(419),b=r(0),o=r.n(b),l=r(110),p=r.n(l),c=r(205),i=r(131),s=r(3),m=r.n(s),j=r(396),O=function(e){var t,r=e.title,n=e.tabs,b=void 0===n?[]:n;return Object(a.b)("div",{className:m()(j.pageHeader,(t={},t[j.withTabs]=b.length,t))},Object(a.b)("div",{className:"bx--grid"},Object(a.b)("div",{className:"bx--row"},Object(a.b)("div",{className:"bx--col-lg-12"},Object(a.b)("h1",{id:"page-title",className:j.text},r)))))},d=r(420),u=r(397),N=function(e){var t=e.relativePagePath,r=e.repository,n=d.data.site.siteMetadata.repository,b=r||n,o=b.baseUrl,l=o+"/tree/master"+b.subDirectory+"/src/pages"+t;return o?Object(a.b)("div",{className:"bx--row "+u.row},Object(a.b)("div",{className:"bx--col"},Object(a.b)("a",{className:u.link,href:l},"Edit this page on GitHub"))):null},g=r(203),f=(r(59),r(27)),h=r(398);var y=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.tabs,r=e.slug,n=r.split("/").filter(Boolean).slice(-1)[0],b=t.map((function(e){var t,b=p()(e,{lower:!0}),o=b===n,l=new RegExp(n+"(?!-)"),c=r.replace(l,b);return Object(a.b)("li",{key:e,className:m()((t={},t[h.selectedItem]=o,t),h.listItem)},Object(a.b)(f.Link,{className:h.link,to:""+c},e))}));return Object(a.b)("div",{className:h.tabsContainer},Object(a.b)("div",{className:"bx--grid"},Object(a.b)("div",{className:"bx--row"},Object(a.b)("div",{className:"bx--col-lg-12 bx--col-no-gutter"},Object(a.b)("nav",null,Object(a.b)("ul",{className:h.list},b))))))},n}(o.a.Component),v=r(204);t.a=function(e){var t=e.pageContext,r=e.children,b=e.location,o=e.Title,l=t.frontmatter,s=void 0===l?{}:l,m=t.relativePagePath,j=t.titleType,d=s.tabs,u=s.title,f=s.theme,h=s.description,C=s.keywords,_=n.data.site.pathPrefix,k=_?b.pathname.replace(_,""):b.pathname,w=d?k.split("/").slice(-1)[0]||p()(d[0],{lower:!0}):"";return Object(a.b)(i.a,{homepage:!1,theme:f,pageTitle:u,pageDescription:h,pageKeywords:C,titleType:j},Object(a.b)(O,{title:o?Object(a.b)(o,null):u,label:"label",tabs:d}),d&&Object(a.b)(y,{slug:k,tabs:d,currentTab:w}),Object(a.b)(v.a,{padded:!0},r,Object(a.b)(N,{relativePagePath:m})),Object(a.b)(g.a,{pageContext:t,location:b,slug:k,tabs:d,currentTab:w}),Object(a.b)(c.a,null))}}}]);
//# sourceMappingURL=component---src-pages-api-modules-report-toolkit-core-mdx-62d0d4d3c007403c36a9.js.map